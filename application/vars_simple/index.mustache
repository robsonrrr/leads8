<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Variáveis do Sistema - Edição Inline</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <style>
        .table-responsive {
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .badge {
            font-size: 0.9em;
        }
        .category-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .field-value {
            padding: 8px;
            border-radius: 4px;
            display: inline-block;
            min-width: 100px;
            text-align: center;
        }
        .editable-field {
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .editable-field:hover {
            opacity: 0.8;
            transform: scale(1.05);
        }
    </style>
</head>
<body class="bg-light">
    <div class="container-fluid py-4">
        <div class="row">
            <div class="col-12">
                <div class="category-header text-center">
                    <h1 class="mb-0"><i class="fas fa-cogs me-2"></i>Variáveis do Sistema</h1>
                    <p class="mb-0 mt-2">Edição Inline - Clique nos valores para editar</p>
                </div>
            </div>
        </div>

        {{#vars}}
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0"><i class="fas fa-database me-2"></i>Registro ID: {{id}}</h5>
                    </div>
                    <div class="card-body">
                        <!-- Taxas de Câmbio -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <h6 class="text-primary border-bottom pb-2"><i class="fas fa-exchange-alt me-2"></i>Taxas de Câmbio</h6>
                                <div class="row">
                                    <div class="col-md-6">
                                        <label class="form-label">Dólar (USD):</label>
                                        <div class="field-value">
                                            <span id="field-Dolar-{{id}}" class="badge bg-warning fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "Dolar", "id": "{{id}}"}'
                                                  hx-target="#field-Dolar-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">R$ {{Dolar}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Yuan (CNY):</label>
                                        <div class="field-value">
                                            <span id="field-Yuan-{{id}}" class="badge bg-warning fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "Yuan", "id": "{{id}}"}'
                                                  hx-target="#field-Yuan-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">R$ {{Yuan}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Dados Financeiros -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <h6 class="text-success border-bottom pb-2"><i class="fas fa-dollar-sign me-2"></i>Dados Financeiros</h6>
                                <div class="row">
                                    <div class="col-md-3">
                                        <label class="form-label">Cash:</label>
                                        <div class="field-value">
                                            <span id="field-Cash-{{id}}" class="badge bg-success fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "Cash", "id": "{{id}}"}'
                                                  hx-target="#field-Cash-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">{{Cash}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Fix Plus:</label>
                                        <div class="field-value">
                                            <span id="field-FixPlus-{{id}}" class="badge bg-primary fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "FixPlus", "id": "{{id}}"}'
                                                  hx-target="#field-FixPlus-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">{{FixPlus}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Fix Less:</label>
                                        <div class="field-value">
                                            <span id="field-FixLess-{{id}}" class="badge bg-primary fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "FixLess", "id": "{{id}}"}'
                                                  hx-target="#field-FixLess-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">{{FixLess}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Buildings:</label>
                                        <div class="field-value">
                                            <span id="field-Buildings-{{id}}" class="badge bg-secondary fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "Buildings", "id": "{{id}}"}'
                                                  hx-target="#field-Buildings-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">{{Buildings}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Metas de Produção -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <h6 class="text-info border-bottom pb-2"><i class="fas fa-target me-2"></i>Metas de Produção</h6>
                                <div class="row">
                                    <div class="col-md-2">
                                        <label class="form-label">Sets Machines Daily:</label>
                                        <div class="field-value">
                                            <span id="field-TargetSetsMachinesDaily-{{id}}" class="badge bg-info fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "TargetSetsMachinesDaily", "id": "{{id}}"}'
                                                  hx-target="#field-TargetSetsMachinesDaily-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">{{TargetSetsMachinesDaily}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="form-label">Machines:</label>
                                        <div class="field-value">
                                            <span id="field-Target_Machines-{{id}}" class="badge bg-info fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "Target_Machines", "id": "{{id}}"}'
                                                  hx-target="#field-Target_Machines-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">{{Target_Machines}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="form-label">Bearings:</label>
                                        <div class="field-value">
                                            <span id="field-Target_Bearings-{{id}}" class="badge bg-info fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "Target_Bearings", "id": "{{id}}"}'
                                                  hx-target="#field-Target_Bearings-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">{{Target_Bearings}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="form-label">Parts:</label>
                                        <div class="field-value">
                                            <span id="field-Target_Parts-{{id}}" class="badge bg-info fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "Target_Parts", "id": "{{id}}"}'
                                                  hx-target="#field-Target_Parts-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">{{Target_Parts}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="form-label">Auto:</label>
                                        <div class="field-value">
                                            <span id="field-Target_Auto-{{id}}" class="badge bg-info fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "Target_Auto", "id": "{{id}}"}'
                                                  hx-target="#field-Target_Auto-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">{{Target_Auto}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Funcionários por Setor -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <h6 class="text-dark border-bottom pb-2"><i class="fas fa-users me-2"></i>Funcionários por Setor</h6>
                                <div class="row">
                                    <div class="col-md-3">
                                        <label class="form-label">Workers Machines:</label>
                                        <div class="field-value">
                                            <span id="field-Workers_Machines-{{id}}" class="badge bg-primary fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "Workers_Machines", "id": "{{id}}"}'
                                                  hx-target="#field-Workers_Machines-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">{{Workers_Machines}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Workers Bearings:</label>
                                        <div class="field-value">
                                            <span id="field-Workers_Bearings-{{id}}" class="badge bg-dark fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "Workers_Bearings", "id": "{{id}}"}'
                                                  hx-target="#field-Workers_Bearings-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">{{Workers_Bearings}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Workers Parts:</label>
                                        <div class="field-value">
                                            <span id="field-Workers_Parts-{{id}}" class="badge bg-success fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "Workers_Parts", "id": "{{id}}"}'
                                                  hx-target="#field-Workers_Parts-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">{{Workers_Parts}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Workers Auto:</label>
                                        <div class="field-value">
                                            <span id="field-Workers_Auto-{{id}}" class="badge bg-info fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "Workers_Auto", "id": "{{id}}"}'
                                                  hx-target="#field-Workers_Auto-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">{{Workers_Auto}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Dados do Exportador -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <h6 class="text-danger border-bottom pb-2"><i class="fas fa-shipping-fast me-2"></i>Dados do Exportador</h6>
                                <div class="row">
                                    <div class="col-md-4">
                                        <label class="form-label">Payable Exporter:</label>
                                        <div class="field-value">
                                            <span id="field-PayableExporter-{{id}}" class="badge bg-danger fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "PayableExporter", "id": "{{id}}"}'
                                                  hx-target="#field-PayableExporter-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">R$ {{PayableExporter}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Paid Exporter:</label>
                                        <div class="field-value">
                                            <span id="field-PaidExporter-{{id}}" class="badge bg-success fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "PaidExporter", "id": "{{id}}"}'
                                                  hx-target="#field-PaidExporter-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">R$ {{PaidExporter}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Received Exporter:</label>
                                        <div class="field-value">
                                            <span id="field-ReceivedExporter-{{id}}" class="badge bg-info fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "ReceivedExporter", "id": "{{id}}"}'
                                                  hx-target="#field-ReceivedExporter-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">R$ {{ReceivedExporter}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Pagamentos Mensais -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <h6 class="text-warning border-bottom pb-2"><i class="fas fa-calendar-alt me-2"></i>Pagamentos por Mês</h6>
                                <div class="row">
                                    <div class="col-md-2">
                                        <label class="form-label">Jan:</label>
                                        <div class="field-value">
                                            <span id="field-PayExporter1-{{id}}" class="badge bg-secondary fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "PayExporter1", "id": "{{id}}"}'
                                                  hx-target="#field-PayExporter1-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">R$ {{PayExporter1}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="form-label">Fev:</label>
                                        <div class="field-value">
                                            <span id="field-PayExporter2-{{id}}" class="badge bg-secondary fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "PayExporter2", "id": "{{id}}"}'
                                                  hx-target="#field-PayExporter2-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">R$ {{PayExporter2}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="form-label">Mar:</label>
                                        <div class="field-value">
                                            <span id="field-PayExporter3-{{id}}" class="badge bg-secondary fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "PayExporter3", "id": "{{id}}"}'
                                                  hx-target="#field-PayExporter3-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">R$ {{PayExporter3}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="form-label">Abr:</label>
                                        <div class="field-value">
                                            <span id="field-PayExporter4-{{id}}" class="badge bg-secondary fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "PayExporter4", "id": "{{id}}"}'
                                                  hx-target="#field-PayExporter4-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">R$ {{PayExporter4}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="form-label">Mai:</label>
                                        <div class="field-value">
                                            <span id="field-PayExporter5-{{id}}" class="badge bg-secondary fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "PayExporter5", "id": "{{id}}"}'
                                                  hx-target="#field-PayExporter5-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">R$ {{PayExporter5}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="form-label">Jun:</label>
                                        <div class="field-value">
                                            <span id="field-PayExporter6-{{id}}" class="badge bg-secondary fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "PayExporter6", "id": "{{id}}"}'
                                                  hx-target="#field-PayExporter6-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">R$ {{PayExporter6}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mt-2">
                                    <div class="col-md-2">
                                        <label class="form-label">Jul:</label>
                                        <div class="field-value">
                                            <span id="field-PayExporter7-{{id}}" class="badge bg-secondary fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "PayExporter7", "id": "{{id}}"}'
                                                  hx-target="#field-PayExporter7-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">R$ {{PayExporter7}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="form-label">Ago:</label>
                                        <div class="field-value">
                                            <span id="field-PayExporter8-{{id}}" class="badge bg-secondary fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "PayExporter8", "id": "{{id}}"}'
                                                  hx-target="#field-PayExporter8-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">R$ {{PayExporter8}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="form-label">Set:</label>
                                        <div class="field-value">
                                            <span id="field-PayExporter9-{{id}}" class="badge bg-secondary fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "PayExporter9", "id": "{{id}}"}'
                                                  hx-target="#field-PayExporter9-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">R$ {{PayExporter9}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="form-label">Out:</label>
                                        <div class="field-value">
                                            <span id="field-PayExporter10-{{id}}" class="badge bg-secondary fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "PayExporter10", "id": "{{id}}"}'
                                                  hx-target="#field-PayExporter10-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">R$ {{PayExporter10}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="form-label">Nov:</label>
                                        <div class="field-value">
                                            <span id="field-PayExporter11-{{id}}" class="badge bg-secondary fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "PayExporter11", "id": "{{id}}"}'
                                                  hx-target="#field-PayExporter11-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">R$ {{PayExporter11}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="form-label">Dez:</label>
                                        <div class="field-value">
                                            <span id="field-PayExporter12-{{id}}" class="badge bg-secondary fs-6 editable-field" 
                                                  style="cursor: pointer;" 
                                                  hx-post="/leads8/vars_simple/edit_field" 
                                                  hx-vals='{"field": "PayExporter12", "id": "{{id}}"}'
                                                  hx-target="#field-PayExporter12-{{id}}" 
                                                  hx-swap="outerHTML" 
                                                  title="Clique para editar">R$ {{PayExporter12}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {{/vars}}

        <!-- Pagination -->
        {{#total_pages}}
        {{#if_greater_than_1}}
        <div class="row mt-4">
            <div class="col-12">
                <nav aria-label="Navegação de páginas">
                    <ul class="pagination justify-content-center">
                        {{#if_greater_than_1_current_page}}
                        <li class="page-item">
                            <a class="page-link" href="?page={{previous_page}}">Anterior</a>
                        </li>
                        {{/if_greater_than_1_current_page}}
                        
                        {{#page_numbers}}
                        <li class="page-item {{#if_current}}active{{/if_current}}">
                            <a class="page-link" href="?page={{number}}">{{number}}</a>
                        </li>
                        {{/page_numbers}}
                        
                        {{#if_less_than_total_current_page}}
                        <li class="page-item">
                            <a class="page-link" href="?page={{next_page}}">Próxima</a>
                        </li>
                        {{/if_less_than_total_current_page}}
                    </ul>
                </nav>
            </div>
        </div>
        {{/if_greater_than_1}}
        {{/total_pages}}

        <!-- Info Footer -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="alert alert-info text-center">
                    <i class="fas fa-info-circle me-2"></i>
                    Total de registros: {{total_records}} | Página {{current_page}} de {{total_pages}}
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>